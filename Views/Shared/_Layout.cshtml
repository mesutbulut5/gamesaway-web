<!DOCTYPE html>
<html lang="tr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description"
        content="GamesAway - On binlerce oyuna ücretsiz erişim imkanı sunan yenilikçi sosyal medya oyun platformu">
    <meta name="keywords" content="oyun platformu, ücretsiz oyunlar, mobil oyunlar, oyun keşfet, GamesAway">
    <title>@ViewData["Title"] - Games Away</title>
    <link rel="icon" type="image/svg+xml" href="~/favicon.svg?v=2">
    <link rel="apple-touch-icon" href="~/favicon.svg?v=2">
    <!-- Critical CSS - Auto cache busting -->
    <link rel="stylesheet" href="~/css/style.css" asp-append-version="true">
    <link rel="stylesheet" href="~/css/navbar.css" asp-append-version="true">
    <link rel="stylesheet" href="~/css/footer.css" asp-append-version="true">
    
    <!-- Page-specific CSS -->
    @await RenderSectionAsync("Styles", required: false)
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <link rel="manifest" href="~/manifest.json">
    <meta name="theme-color" content="#667EEA">
    <link rel="apple-touch-icon" href="~/assets/logo-pwa.png">
</head>

<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="container-fluid">
            <div class="nav-wrapper">
                <!-- Logo -->
                <a asp-controller="Home" asp-action="Index" class="logo">
                    <img src="~/assets/logo.png" alt="GamesAway" class="logo-img">
                </a>

                <!-- Main Menu -->
                <ul class="nav-menu">
                    <li><a asp-controller="Home" asp-action="Browse" class="@(ViewContext.RouteData.Values["Action"]?.ToString() == "Browse" ? "active" : "")" data-tr="Oyunlar" data-en="Games">Oyunlar</a></li>
                    <li class="nav-dropdown">
                        <a href="#" class="nav-dropdown-toggle">
                            <span data-tr="Topluluk" data-en="Community">Topluluk</span>
                            <i class="fas fa-chevron-down"></i>
                        </a>
                        <div class="nav-dropdown-menu">
                            <a asp-controller="Home" asp-action="GameJams" class="nav-dropdown-item">
                                <span data-tr="Oyun Yarışmaları" data-en="Game Jams">Oyun Yarışmaları</span>
                            </a>
                            <a asp-controller="Home" asp-action="Collections" class="nav-dropdown-item">
                                <span data-tr="Koleksiyonlar" data-en="Collections">Koleksiyonlar</span>
                            </a>
                            <a asp-controller="Home" asp-action="Devlogs" class="nav-dropdown-item">
                                <span data-tr="Geliştirici Günlükleri" data-en="Devlogs">Geliştirici Günlükleri</span>
                            </a>
                            <a asp-controller="Home" asp-action="Blog" class="nav-dropdown-item">
                                <span data-tr="Blog" data-en="Blog">Blog</span>
                            </a>
                            <a asp-controller="Home" asp-action="Contact" class="nav-dropdown-item">
                                <span data-tr="Forum" data-en="Forum">Forum</span>
                            </a>
                        </div>
                    </li>
                    <li class="nav-dropdown">
                        <a href="#" class="nav-dropdown-toggle">
                            <span data-tr="Geliştiriciler" data-en="Developers">Geliştiriciler</span>
                            <i class="fas fa-chevron-down"></i>
                        </a>
                        <div class="nav-dropdown-menu">
                            <a asp-controller="Home" asp-action="ForDevelopers" class="nav-dropdown-item">
                                <span data-tr="Genel Bakış" data-en="Overview">Genel Bakış</span>
                            </a>
                            <a asp-controller="Dashboard" asp-action="Games" class="nav-dropdown-item">
                                <span data-tr="Oyun Yükle" data-en="Upload Game">Oyun Yükle</span>
                            </a>
                            <a asp-controller="Home" asp-action="Sales" class="nav-dropdown-item">
                                <span data-tr="İndirimler" data-en="Sales">İndirimler</span>
                            </a>
                            <a asp-controller="Home" asp-action="Bundles" class="nav-dropdown-item">
                                <span data-tr="Paketler" data-en="Bundles">Paketler</span>
                            </a>
                            <a asp-controller="Home" asp-action="Tags" class="nav-dropdown-item">
                                <span data-tr="Etiketler" data-en="Tags">Etiketler</span>
                            </a>
                        </div>
                    </li>
                    <li><a asp-controller="Dashboard" asp-action="Index" class="@(ViewContext.RouteData.Values["Controller"]?.ToString() == "Dashboard" ? "active" : "")" data-tr="Kontrol Paneli" data-en="Dashboard">Kontrol Paneli</a></li>
                </ul>

                <!-- Right Side Controls -->
                <div class="nav-right">
                    <!-- Search Bar -->
                    <div class="nav-search">
                        <i class="fas fa-search"></i>
                        <input type="text" placeholder="Oyun, geliştirici ara..." data-tr-placeholder="Oyun, geliştirici ara..." data-en-placeholder="Search games, developers...">
                    </div>

                    <!-- Theme & Language -->
                    <button class="nav-icon-btn theme-toggle" id="themeToggle" aria-label="Tema Değiştir" title="Tema Değiştir">
                        <i class="fas fa-moon"></i>
                    </button>
                    <button class="nav-icon-btn lang-toggle" id="langToggle" aria-label="Dil Değiştir" title="TR/EN">
                        TR
                    </button>

                    <!-- Auth Buttons (Not Logged In) -->
                    @{
                        var userId = Context.Request.Cookies["UserId"];
                        var userName = Context.Request.Cookies["UserName"];
                        var userRole = Context.Request.Cookies["UserRole"];
                        var isLoggedIn = !string.IsNullOrEmpty(userId);
                        var isAdmin = userRole == "Admin";
                    }
                    
                    @if (!isLoggedIn)
                    {
                        <a asp-controller="Auth" asp-action="Login" class="btn-nav-login" data-tr="Giriş Yap" data-en="Log In">Giriş Yap</a>
                        <a asp-controller="Auth" asp-action="Register" class="btn-nav-register" data-tr="Kayıt Ol" data-en="Register">Kayıt Ol</a>
                    }
                    else
                    {
                        <!-- Notifications (Logged In) -->
                        <button class="nav-icon-btn nav-notifications" aria-label="Bildirimler" title="Bildirimler">
                            <i class="fas fa-bell"></i>
                            <span class="notification-badge">3</span>
                        </button>

                        <!-- User Dropdown (Logged In) -->
                        <div class="nav-user-dropdown">
                            <button class="nav-user-btn" id="userDropdownBtn">
                                <div class="nav-user-avatar">
                                    <i class="fas fa-user"></i>
                                </div>
                                <span class="nav-user-name">@userName</span>
                                <i class="fas fa-chevron-down"></i>
                            </button>

                            <div class="nav-user-menu" id="userDropdownMenu">
                                <!-- Keşfetmek -->
                                <div class="nav-menu-section">
                                    <div class="nav-menu-title" data-tr="KEŞFETMEK" data-en="DISCOVER">KEŞFETMEK</div>
                                    <a asp-controller="Home" asp-action="Index" class="nav-menu-item">
                                        <i class="fas fa-home"></i>
                                        <span data-tr="Kütüphanem" data-en="My Library">Kütüphanem</span>
                                    </a>
                                    <a asp-controller="Home" asp-action="Browse" class="nav-menu-item">
                                        <i class="fas fa-star"></i>
                                        <span data-tr="Öneriler" data-en="Recommendations">Öneriler</span>
                                    </a>
                                    <a asp-controller="Home" asp-action="Browse" class="nav-menu-item">
                                        <i class="fas fa-calendar"></i>
                                        <span data-tr="Oyun geliştirme etkinlikleri" data-en="Game dev events">Oyun geliştirme etkinlikleri</span>
                                    </a>
                                </div>

                                <!-- Yaratmak -->
                                <div class="nav-menu-section">
                                    <div class="nav-menu-title" data-tr="YARATMAK" data-en="CREATE">YARATMAK</div>
                                    <a asp-controller="Dashboard" asp-action="Index" class="nav-menu-item nav-menu-item-highlight">
                                        <i class="fas fa-tachometer-alt"></i>
                                        <span data-tr="Kontrol Paneli" data-en="Dashboard">Kontrol Paneli</span>
                                    </a>
                                    <a asp-controller="Dashboard" asp-action="Games" class="nav-menu-item">
                                        <i class="fas fa-gamepad"></i>
                                        <span data-tr="Gönderiler" data-en="Submissions">Gönderiler</span>
                                    </a>
                                    <a asp-controller="Dashboard" asp-action="Games" class="nav-menu-item">
                                        <i class="fas fa-upload"></i>
                                        <span data-tr="Yeni proje yükle" data-en="Upload new project">Yeni proje yükle</span>
                                    </a>
                                    <a asp-controller="Dashboard" asp-action="Analytics" class="nav-menu-item">
                                        <i class="fas fa-chart-line"></i>
                                        <span data-tr="İndirimler ve paketler" data-en="Sales & bundles">İndirimler ve paketler</span>
                                    </a>
                                    <a asp-controller="Home" asp-action="ForDevelopers" class="nav-menu-item">
                                        <i class="fas fa-trophy"></i>
                                        <span data-tr="Oyun geliştirme yarışmasına ev sahipliği yapın" data-en="Host game jam">Oyun geliştirme yarışmasına ev sahipliği yapın</span>
                                    </a>
                                </div>

                                <!-- Hesap -->
                                <div class="nav-menu-section">
                                    <div class="nav-menu-title" data-tr="HESAP" data-en="ACCOUNT">HESAP</div>
                                    @if (isAdmin)
                                    {
                                        <a asp-controller="Admin" asp-action="Index" class="nav-menu-item nav-menu-item-admin">
                                            <i class="fas fa-shield-alt"></i>
                                            <span data-tr="Admin Paneli" data-en="Admin Panel">Admin Paneli</span>
                                        </a>
                                    }
                                    <a asp-controller="Home" asp-action="Index" class="nav-menu-item">
                                        <i class="fas fa-user"></i>
                                        <span data-tr="Profili görüntüle" data-en="View profile">Profili görüntüle</span>
                                    </a>
                                    <a asp-controller="Home" asp-action="Index" class="nav-menu-item">
                                        <i class="fas fa-cog"></i>
                                        <span data-tr="Ayarlar" data-en="Settings">Ayarlar</span>
                                    </a>
                                    <a asp-controller="Auth" asp-action="Logout" class="nav-menu-item">
                                        <i class="fas fa-sign-out-alt"></i>
                                        <span data-tr="Çıkış yap" data-en="Log out">Çıkış yap</span>
                                    </a>
                                </div>
                            </div>
                        </div>
                    }

                    <!-- Mobile Menu Toggle -->
                    <button class="mobile-menu-toggle" aria-label="Menü">
                        <span></span>
                        <span></span>
                        <span></span>
                    </button>
                </div>
            </div>
        </div>
    </nav>

    @RenderBody()

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-main">
                <!-- Logo & Description -->
                <div class="footer-column footer-brand">
                    <a asp-controller="Home" asp-action="Index" class="footer-logo">
                        <img src="~/assets/logo.png" alt="GamesAway" class="logo-img">
                    </a>
                    <p class="footer-description" data-tr="Bağımsız oyunlarınızı anında dağıtın veya satın. Milyonlarca oyuncuya ulaşın."
                        data-en="Instantly distribute or sell your indie games. Reach millions of players.">
                        Bağımsız oyunlarınızı anında dağıtın veya satın. Milyonlarca oyuncuya ulaşın.
                    </p>
                    <div class="footer-social">
                        <a href="https://facebook.com/gamesaway" target="_blank" aria-label="Facebook"><i class="fab fa-facebook"></i></a>
                        <a href="https://twitter.com/gamesaway" target="_blank" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
                        <a href="https://instagram.com/gamesaway" target="_blank" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
                        <a href="https://youtube.com/@@gamesaway" target="_blank" aria-label="YouTube"><i class="fab fa-youtube"></i></a>
                        <a href="https://discord.com/gamesaway" target="_blank" aria-label="Discord"><i class="fab fa-discord"></i></a>
                    </div>
                </div>

                <!-- Keşfet -->
                <div class="footer-column">
                    <h4 data-tr="Keşfet" data-en="Discover">Keşfet</h4>
                    <ul>
                        <li><a asp-controller="Home" asp-action="Browse" data-tr="Oyunlar" data-en="Games">Oyunlar</a></li>
                        <li><a asp-controller="Home" asp-action="Browse" asp-route-category="action" data-tr="Aksiyon Oyunları" data-en="Action Games">Aksiyon Oyunları</a></li>
                        <li><a asp-controller="Home" asp-action="Browse" asp-route-category="puzzle" data-tr="Bulmaca Oyunları" data-en="Puzzle Games">Bulmaca Oyunları</a></li>
                        <li><a asp-controller="Home" asp-action="Browse" asp-route-sort="newest" data-tr="Yeni Çıkanlar" data-en="New Releases">Yeni Çıkanlar</a></li>
                        <li><a asp-controller="Home" asp-action="Browse" asp-route-sort="rating" data-tr="En İyi Puanlılar" data-en="Top Rated">En İyi Puanlılar</a></li>
                    </ul>
                </div>

                <!-- Oluştur -->
                <div class="footer-column">
                    <h4 data-tr="Oluştur" data-en="Create">Oluştur</h4>
                    <ul>
                        <li><a asp-controller="Home" asp-action="ForDevelopers" data-tr="Geliştiriciler" data-en="Developers">Geliştiriciler</a></li>
                        <li><a asp-controller="Auth" asp-action="Register" data-tr="Oyun Yükle" data-en="Upload Game">Oyun Yükle</a></li>
                        <li><a asp-controller="Dashboard" asp-action="Index" data-tr="Geliştirici Paneli" data-en="Developer Dashboard">Geliştirici Paneli</a></li>
                        <li><a asp-controller="Home" asp-action="Blog" data-tr="Dokümantasyon" data-en="Documentation">Dokümantasyon</a></li>
                        <li><a asp-controller="Home" asp-action="Blog" data-tr="API" data-en="API">API</a></li>
                    </ul>
                </div>

                <!-- Topluluk -->
                <div class="footer-column">
                    <h4 data-tr="Topluluk" data-en="Community">Topluluk</h4>
                    <ul>
                        <li><a asp-controller="Home" asp-action="Blog" data-tr="Blog" data-en="Blog">Blog</a></li>
                        <li><a href="https://discord.com/gamesaway" target="_blank" data-tr="Discord" data-en="Discord">Discord</a></li>
                        <li><a asp-controller="Home" asp-action="Contact" data-tr="Forum" data-en="Forum">Forum</a></li>
                        <li><a asp-controller="Home" asp-action="Contact" data-tr="Destek" data-en="Support">Destek</a></li>
                        <li><a asp-controller="Home" asp-action="Blog" data-tr="Etkinlikler" data-en="Events">Etkinlikler</a></li>
                    </ul>
                </div>

                <!-- Şirket -->
                <div class="footer-column">
                    <h4 data-tr="Şirket" data-en="Company">Şirket</h4>
                    <ul>
                        <li><a asp-controller="Home" asp-action="Index" data-tr="Hakkımızda" data-en="About">Hakkımızda</a></li>
                        <li><a asp-controller="Home" asp-action="Contact" data-tr="İletişim" data-en="Contact">İletişim</a></li>
                        <li><a asp-controller="Home" asp-action="Privacy" data-tr="Gizlilik Politikası" data-en="Privacy Policy">Gizlilik Politikası</a></li>
                        <li><a asp-controller="Home" asp-action="Terms" data-tr="Kullanım Şartları" data-en="Terms of Service">Kullanım Şartları</a></li>
                        <li><a asp-controller="Home" asp-action="Contact" data-tr="Kariyer" data-en="Careers">Kariyer</a></li>
                    </ul>
                </div>

                <!-- Auth Buttons -->
                <div class="footer-column footer-auth">
                    <div class="footer-auth-buttons">
                        <a asp-controller="Auth" asp-action="Login" class="btn-footer-login">
                            <i class="fas fa-sign-in-alt"></i>
                            <span data-tr="Giriş Yap" data-en="Log In">Giriş Yap</span>
                        </a>
                        <a asp-controller="Auth" asp-action="Register" class="btn-footer-signup">
                            <i class="fas fa-user-plus"></i>
                            <span data-tr="Kayıt Ol" data-en="Sign Up">Kayıt Ol</span>
                        </a>
                    </div>
                </div>
            </div>

            <div class="footer-bottom">
                <div class="footer-bottom-left">
                    <p>
                        &copy; 2025 <a asp-controller="Home" asp-action="Index">GamesAway</a>.
                        <span data-tr="Tüm hakları saklıdır" data-en="All rights reserved">Tüm hakları saklıdır</span>
                    </p>
                    <p class="footer-company">
                        <a href="https://www.4usgames.com" target="_blank">4USGAME Oyun Yazılım ve Pazarlama A.Ş.</a>
                    </p>
                </div>
                <div class="footer-bottom-right">
                    <a asp-controller="Home" asp-action="Privacy" data-tr="Gizlilik" data-en="Privacy">Gizlilik</a>
                    <span>•</span>
                    <a asp-controller="Home" asp-action="Terms" data-tr="Şartlar" data-en="Terms">Şartlar</a>
                    <span>•</span>
                    <a asp-controller="Home" asp-action="Contact" data-tr="Çerezler" data-en="Cookies">Çerezler</a>
                </div>
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/js/main.js" asp-append-version="true"></script>
    @await RenderSectionAsync("Scripts", required: false)
</body>

</html>
